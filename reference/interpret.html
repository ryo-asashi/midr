<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fit MID Models — interpret • midr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit MID Models — interpret"><meta name="description" content="interpret() is used to fit a Maximum Interpretation Decomposition (MID) model.
MID models are additive, highly interpretable models composed of functions, each with up to two variables."><meta property="og:description" content="interpret() is used to fit a Maximum Interpretation Decomposition (MID) model.
MID models are additive, highly interpretable models composed of functions, each with up to two variables."><meta property="og:image" content="https://ryo-asashi.github.io/midr/logo.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">midr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0.909</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/index.html">Package Articles</a></li>
    <li><a class="dropdown-item" href="../articles/regression.html">- Interpretation of Regression Models</a></li>
    <li><a class="dropdown-item" href="../articles/classification.html">- Interpretation of Classification Models</a></li>
    <li><a class="dropdown-item" href="../articles/graphics.html">- Visualization with graphics package</a></li>
    <li><a class="dropdown-item" href="../articles/ggplot2.html">- Visualization with ggplot2 package</a></li>
    <li><a class="dropdown-item" href="../articles/colortheme.html">- Getting Started with Color Themes</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Publications</h6></li>
    <li><a class="external-link dropdown-item" href="https://arxiv.org/abs/2506.08338">- Working Paper (arXiv)</a></li>
    <li><a class="dropdown-item" href="../midr_jarip.pdf">- JARIP Bulletin (Japanese, PDF)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ryo-asashi/midr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Fit MID Models</h1>
      <small class="dont-index">Source: <a href="https://github.com/ryo-asashi/midr/blob/main/R/interpret.R" class="external-link"><code>R/interpret.R</code></a></small>
      <div class="d-none name"><code>interpret.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>interpret()</code> is used to fit a Maximum Interpretation Decomposition (MID) model.
MID models are additive, highly interpretable models composed of functions, each with up to two variables.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">interpret</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">interpret</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pred.fun <span class="op">=</span> <span class="va">get.yhat</span>,</span>
<span>  link <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">1L</span><span class="op">)</span>,</span>
<span>  frames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  interactions <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  terms <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  singular.ok <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mode <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  method <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  kappa <span class="op">=</span> <span class="fl">1e+06</span>,</span>
<span>  na.action <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"na.action"</span><span class="op">)</span>,</span>
<span>  verbosity <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  encoding.digits <span class="op">=</span> <span class="fl">3L</span>,</span>
<span>  use.catchall <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  catchall <span class="op">=</span> <span class="st">"(others)"</span>,</span>
<span>  max.ncol <span class="op">=</span> <span class="fl">10000L</span>,</span>
<span>  nil <span class="op">=</span> <span class="fl">1e-07</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">1e-07</span>,</span>
<span>  pred.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'formula'</span></span>
<span><span class="fu">interpret</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pred.fun <span class="op">=</span> <span class="va">get.yhat</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  na.action <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"na.action"</span><span class="op">)</span>,</span>
<span>  verbosity <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  mode <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  drop.unused.levels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pred.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>a fitted model object to be interpreted.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>for <code>interpret.default()</code>, optional arguments can be provided, including <code>fit.intercept</code>, <code>interpolate.beta</code> ("iterative" for iterative smoothing, "direct" for solving the linear system, or "none" to disable interpolation), <code>weighted.norm</code>, and <code>weighted.encoding</code>. Special character aliases are also supported, such as <code>ok</code> for <code>singular.ok</code> and <code>ie</code> for <code>interactions</code>. For <code>interpret.formula()</code>, any arguments to be passed on to <code>interpret.default()</code>.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a matrix or data.frame of predictor variables to be used in the fitting process. The response variable should not be included.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>an optional numeric vector of the model predictions or the response variable.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>a numeric vector of sample weights for each observation in <code>x</code>.</p></dd>


<dt id="arg-pred-fun">pred.fun<a class="anchor" aria-label="anchor" href="#arg-pred-fun"></a></dt>
<dd><p>a function to obtain predictions from a fitted model, where the first argument is for the fitted model and the second argument is for new data. The default is <code><a href="get.yhat.html">get.yhat()</a></code>.</p></dd>


<dt id="arg-link">link<a class="anchor" aria-label="anchor" href="#arg-link"></a></dt>
<dd><p>a character string specifying the link function: one of "logit", "probit", "cauchit", "cloglog", "identity", "log", "sqrt", "1/mu^2", "inverse", "translogit", "transprobit", "identity-logistic" and "identity-gaussian", or an object containing two functions <code>linkfun()</code> and <code>linkinv()</code>. See <code><a href="https://rdrr.io/r/stats/make.link.html" class="external-link">help(make.link)</a></code>.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>an integer or a vector of two integers specifying the maximum number of sample points for main effects (<code>k[1]</code>) and interactions (<code>k[2]</code>). If a single integer is provided, it is used for main effects while the value for interactions is automatically determined. Any <code>NA</code> value will also trigger this automatic determination. With non-positive values, all unique data points are used as sample points.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>an integer or integer-valued vector of length two. The type of encoding. The effects of quantitative variables are modeled as piecewise linear functions if <code>type</code> is <code>1</code>, and as step functions if <code>type</code> is <code>0</code>. If a vector is passed, <code>type[1L]</code> is used for main effects and <code>type[2L]</code> is used for interactions.</p></dd>


<dt id="arg-frames">frames<a class="anchor" aria-label="anchor" href="#arg-frames"></a></dt>
<dd><p>a named list of encoding frames ("numeric.frame" or "factor.frame" objects). The encoding frames are used to encode the variable of the corresponding name. If the name begins with "|" or ":", the encoding frame is used only for main effects or interactions, respectively.</p></dd>


<dt id="arg-interactions">interactions<a class="anchor" aria-label="anchor" href="#arg-interactions"></a></dt>
<dd><p>logical. If <code>TRUE</code> and if <code>terms</code> and <code>formula</code> are not supplied, all interactions for each pair of variables are modeled and calculated.</p></dd>


<dt id="arg-terms">terms<a class="anchor" aria-label="anchor" href="#arg-terms"></a></dt>
<dd><p>a character vector of term labels specifying the set of component functions to be modeled. If not passed, <code>terms</code> includes all main effects, and all interactions if <code>interaction</code> is <code>TRUE</code>.</p></dd>


<dt id="arg-singular-ok">singular.ok<a class="anchor" aria-label="anchor" href="#arg-singular-ok"></a></dt>
<dd><p>logical. If <code>FALSE</code>, a singular fit is an error.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>an integer specifying the method of calculation. If <code>mode</code> is <code>1</code>, the centralization constraints are treated as penalties for the least squares problem. If <code>mode</code> is <code>2</code>, the constraints are used to reduce the number of free parameters.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>an integer specifying the method to be used to solve the least squares problem. A non-negative value will be passed to <code><a href="https://rdrr.io/pkg/RcppEigen/man/fastLm.html" class="external-link">RcppEigen::fastLmPure()</a></code>. If negative, <code><a href="https://rdrr.io/r/stats/lmfit.html" class="external-link">stats::lm.fit()</a></code> is used.</p></dd>


<dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>the penalty factor for pseudo smoothing. The default is <code>0</code>.</p></dd>


<dt id="arg-kappa">kappa<a class="anchor" aria-label="anchor" href="#arg-kappa"></a></dt>
<dd><p>the penalty factor for centering constraints. Used only when <code>mode</code> is <code>1</code>. The default is <code>1e+6</code>.</p></dd>


<dt id="arg-na-action">na.action<a class="anchor" aria-label="anchor" href="#arg-na-action"></a></dt>
<dd><p>a function or character string specifying the method of <code>NA</code> handling. The default is "na.omit".</p></dd>


<dt id="arg-verbosity">verbosity<a class="anchor" aria-label="anchor" href="#arg-verbosity"></a></dt>
<dd><p>the level of verbosity. <code>0</code>: fatal, <code>1</code>: warning (default), <code>2</code>: info or <code>3</code>: debug.</p></dd>


<dt id="arg-encoding-digits">encoding.digits<a class="anchor" aria-label="anchor" href="#arg-encoding-digits"></a></dt>
<dd><p>an integer. The rounding digits for encoding numeric variables. Used only when <code>type</code> is <code>1</code>.</p></dd>


<dt id="arg-use-catchall">use.catchall<a class="anchor" aria-label="anchor" href="#arg-use-catchall"></a></dt>
<dd><p>logical. If <code>TRUE</code>, less frequent levels of qualitative variables are dropped and replaced by the catchall level.</p></dd>


<dt id="arg-catchall">catchall<a class="anchor" aria-label="anchor" href="#arg-catchall"></a></dt>
<dd><p>a character string specifying the catchall level.</p></dd>


<dt id="arg-max-ncol">max.ncol<a class="anchor" aria-label="anchor" href="#arg-max-ncol"></a></dt>
<dd><p>integer. The maximum number of columns of the design matrix.</p></dd>


<dt id="arg-nil">nil<a class="anchor" aria-label="anchor" href="#arg-nil"></a></dt>
<dd><p>a threshold for the intercept and coefficients to be treated as zero. The default is <code>1e-7</code>.</p></dd>


<dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>a tolerance for the singular value decomposition. The default is <code>1e-7</code>.</p></dd>


<dt id="arg-pred-args">pred.args<a class="anchor" aria-label="anchor" href="#arg-pred-args"></a></dt>
<dd><p>optional parameters other than the fitted model and new data to be passed to <code>pred.fun()</code>.</p></dd>


<dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>a symbolic description of the MID model to be fit.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a data.frame, list or environment containing the variables in <code>formula</code>. If not found in data, the variables are taken from <code>environment(formula)</code>.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>a fitted model object to be interpreted.</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>an optional vector specifying a subset of observations to be used in the fitting process.</p></dd>


<dt id="arg-drop-unused-levels">drop.unused.levels<a class="anchor" aria-label="anchor" href="#arg-drop-unused-levels"></a></dt>
<dd><p>logical. If <code>TRUE</code>, unused levels of factors will be dropped.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>interpret()</code> returns an object of class "mid". This is a list with the following components:</p>
<dl><dt>weights</dt>
<dd><p>a numeric vector of the sample weights.</p></dd>

<dt>call</dt>
<dd><p>the matched call.</p></dd>

<dt>terms</dt>
<dd><p>the term labels.</p></dd>

<dt>link</dt>
<dd><p>a "link-glm" or "link-midr" object containing the link function.</p></dd>

<dt>intercept</dt>
<dd><p>the intercept.</p></dd>

<dt>encoders</dt>
<dd><p>a list of variable encoders.</p></dd>

<dt>main.effects</dt>
<dd><p>a list of data frames representing the main effects.</p></dd>

<dt>interacions</dt>
<dd><p>a list of data frames representing the interactions.</p></dd>

<dt>ratio</dt>
<dd><p>the ratio of the sum of squared error between the target model predictions and the fitted MID values, to the sum of squared deviations of the target model predictions.</p></dd>

<dt>fitted.matrix</dt>
<dd><p>a matrix showing the breakdown of the predictions into the effects of the component functions.</p></dd>

<dt>linear.predictors</dt>
<dd><p>a numeric vector of the linear predictors.</p></dd>

<dt>fitted.values</dt>
<dd><p>a numeric vector of the fitted values.</p></dd>

<dt>residuals</dt>
<dd><p>a numeric vector of the working residuals.</p></dd>

<dt>na.action</dt>
<dd><p>information about the special handlings of <code>NA</code>s.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The MID model approximates a target model's prediction function \(f(\mathbf{x})\), or values of the response variable \(\mathbf{y}\).
This model, denoted as \(\mathcal{F}(\mathbf{x})\), has the following structure: $$\mathcal{F}(\mathbf{x}) = f_\phi + \sum_{j} f_{j}(x_j) + \sum_{j&lt;k} f_{jk}(x_j, x_k)$$
where \(f_\phi\) is the intercept, \(f_{j}(x_j)\) is the main effect of feature \(j\), and \(f_{jk}(x_j, x_k)\) is the second-order interaction effect between features \(j\) and \(k\).</p>
<p>To ensure that the decomposed components are unique, they are fitted under the <em>centering constraints</em>: each main effect's average is constrained to be zero, and each interaction effect's conditional averages are also constrained to be zero.
The model is fitted by minimizing the squared error between the target, \(f(\mathbf{x})\) or \(\mathbf{y}\), and the surrogate \(\mathcal{F}(\mathbf{x})\), which is typically evaluated on a representative dataset.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Asashiba R, Kozuma R, Iwasawa H (2025). “midr: Learning from Black-Box Models by Maximum Interpretation Decomposition.” 2506.08338, <a href="https://arxiv.org/abs/2506.08338" class="external-link">https://arxiv.org/abs/2506.08338</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="predict.mid.html">predict.mid</a></code>, <code><a href="summary.mid.html">summary.mid</a></code>, <code><a href="print.mid.html">print.mid</a></code>, <code><a href="plot.mid.html">plot.mid</a></code>, <code><a href="mid.terms.html">mid.terms</a></code>, <code><a href="mid.importance.html">mid.importance</a></code>, <code><a href="mid.conditional.html">mid.conditional</a></code>, <code><a href="mid.breakdown.html">mid.breakdown</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Fit a MID model as a surrogate for another model</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">cars</span>, package <span class="op">=</span> <span class="st">"datasets"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">dist</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">speed</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="va">speed</span>, <span class="va">cars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mid</span> <span class="op">&lt;-</span> <span class="fu">interpret</span><span class="op">(</span><span class="va">dist</span> <span class="op">~</span> <span class="va">speed</span>, <span class="va">cars</span>, <span class="va">model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mid</span>, <span class="st">"speed"</span>, intercept <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interpret-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit a MID model as a standalone predictive model</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">airquality</span>, package <span class="op">=</span> <span class="st">"datasets"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mid</span> <span class="op">&lt;-</span> <span class="fu">interpret</span><span class="op">(</span><span class="va">Ozone</span> <span class="op">~</span> <span class="va">.</span><span class="op">^</span><span class="fl">2</span>, data <span class="op">=</span> <span class="va">airquality</span>, lambda <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'model' not passed: response variable in 'data' is used</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mid</span>, <span class="st">"Wind"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interpret-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mid</span>, <span class="st">"Temp"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interpret-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mid</span>, <span class="st">"Wind:Temp"</span>, main.effects <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interpret-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Nile</span>, package <span class="op">=</span> <span class="st">"datasets"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">Nile</span><span class="op">)</span>, flow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">Nile</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A flexible fit with many knots</span></span></span>
<span class="r-in"><span><span class="va">mid</span> <span class="op">&lt;-</span> <span class="fu">interpret</span><span class="op">(</span><span class="va">flow</span> <span class="op">~</span> <span class="va">time</span>, data <span class="op">=</span> <span class="va">nile</span>, k <span class="op">=</span> <span class="fl">100L</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'model' not passed: response variable in 'data' is used</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mid</span>, <span class="st">"time"</span>, intercept <span class="op">=</span> <span class="cn">TRUE</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600L</span>, <span class="fl">1300L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1L</span><span class="op">:</span><span class="fl">100L</span>, y <span class="op">=</span> <span class="va">Nile</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interpret-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A smoother fit with fewer knots</span></span></span>
<span class="r-in"><span><span class="va">mid</span> <span class="op">&lt;-</span> <span class="fu">interpret</span><span class="op">(</span><span class="va">flow</span> <span class="op">~</span> <span class="va">time</span>, data <span class="op">=</span> <span class="va">nile</span>, k <span class="op">=</span> <span class="fl">10L</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'model' not passed: response variable in 'data' is used</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mid</span>, <span class="st">"time"</span>, intercept <span class="op">=</span> <span class="cn">TRUE</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600L</span>, <span class="fl">1300L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1L</span><span class="op">:</span><span class="fl">100L</span>, y <span class="op">=</span> <span class="va">Nile</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interpret-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A pseudo-smoothed fit using a penalty</span></span></span>
<span class="r-in"><span><span class="va">mid</span> <span class="op">&lt;-</span> <span class="fu">interpret</span><span class="op">(</span><span class="va">flow</span> <span class="op">~</span> <span class="va">time</span>, data <span class="op">=</span> <span class="va">nile</span>, k <span class="op">=</span> <span class="fl">100L</span>, lambda <span class="op">=</span> <span class="fl">100L</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'model' not passed: response variable in 'data' is used</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mid</span>, <span class="st">"time"</span>, intercept <span class="op">=</span> <span class="cn">TRUE</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600L</span>, <span class="fl">1300L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1L</span><span class="op">:</span><span class="fl">100L</span>, y <span class="op">=</span> <span class="va">Nile</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interpret-7.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ryoichi Asasihba, Hirokazu Iwasawa.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

